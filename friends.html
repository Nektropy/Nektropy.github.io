<!-- friends.html -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>友情链接 - 熵的个人名片</title>
    <meta name="description" content="熵的小站友情链接">
    <meta name="keywords" content="熵,友情链接,友链">
    <meta name="author" content="熵">
    <link rel="icon" href="/head.png">
    <!-- 统计代码 -->
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
    <script>LA.init({id:"3KkEpLxmzacRhipz",ck:"3KkEpLxmzacRhipz",autoTrack:true,hashMode:true,screenRecord:true})</script>
    <script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script>
    <script>new LingQue.Monitor().init({id:"3KlOuZC0Fi3bgsEF",sendSuspicious:true,sendSpaPv:true});</script>
    <script charset="UTF-8" id="LA_COLLECT_2" src="//sdk.51.la/js-sdk-pro.min.js"></script>
    <script>LA.init({id:"3OuXivrBfRfxJbLS",ck:"3OuXivrBfRfxJbLS",autoTrack:true,hashMode:true,screenRecord:true})</script>
    <script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script>
    <script>new LingQue.Monitor().init({id:"3OuXqQiE51afOEFm",sendSuspicious:true,sendSpaPv:true});</script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* 友链页面特有样式 */
        .friends-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .friends-header h1 {
            font-size: 2.2rem;
            color: #fff;
            margin-bottom: 10px;
        }
        
        .friends-header p {
            color: rgba(255,255,255,0.8);
        }
        
        .friends-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .friend-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px 25px;
            text-align: center;
            text-decoration: none;
            color: inherit;
            transition: all 0.35s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .friend-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            border-color: rgba(255,255,255,0.3);
        }
        
        .friend-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid rgba(255,255,255,0.2);
            overflow: hidden;
            background: rgba(255,255,255,0.1);
            position: relative;
        }
        
        .friend-avatar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: avatar-shine 3s infinite;
        }
        
        @keyframes avatar-shine {
            0% { left: -100%; }
            50%, 100% { left: 100%; }
        }
        
        .friend-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: relative;
            z-index: 1;
        }
        
        .friend-name {
            font-size: 1.25rem;
            color: #fff;
            font-weight: 600;
        }
        
        .friend-desc {
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
            line-height: 1.5;
        }
        
        .exchange-section {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
        }
        
        .exchange-title {
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .exchange-content h3 {
            color: #fff;
            font-size: 1rem;
            margin: 20px 0 10px;
        }
        
        .exchange-content h3:first-child {
            margin-top: 0;
        }
        
        .code-block {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 15px 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: rgba(255,255,255,0.9);
            line-height: 1.8;
            overflow-x: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .add-friend-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
            padding: 12px 24px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: #fff;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .add-friend-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(58,134,255,0.4);
        }
        
        @media (max-width: 768px) {
            .friends-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 移动端菜单 -->
    <div class="mobile-menu">
        <div class="menu-toggle" id="menuToggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="menu-dropdown" id="menuDropdown">
            <a href="index.html" class="menu-item">
                <i class="fas fa-home"></i>
                <span>返回首页</span>
            </a>
            
            <a href="/divination.html" class="menu-item" target="_blank">
                <i class="fas fa-yin-yang"></i>
                <span>赛博算卦</span>
            </a>
        </div>
    </div>
    
    <!-- 电脑端左侧固定菜单 -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-inner">
            <div class="sidebar-header">
                <div class="sidebar-brand">
                    <i class="fas fa-compass"></i>
                    <span class="brand-text">导航</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle" title="收起菜单">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
            
            <nav class="sidebar-nav">
                <a href="index.html" class="nav-link">
                    <div class="nav-icon"><i class="fas fa-home"></i></div>
                    <span class="nav-text">首页</span>
                </a>
                <a href="friends.html" class="nav-link active">
                    <div class="nav-icon"><i class="fas fa-link"></i></div>
                    <span class="nav-text">友情链接</span>
                </a>
                <a href="/divination.html" class="nav-link" target="_blank">
                    <div class="nav-icon"><i class="fas fa-yin-yang"></i></div>
                    <span class="nav-text">赛博算卦</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="footer-line"></div>
                <p class="footer-text">© 2026 熵</p>
            </div>
        </div>
    </aside>
    
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <div class="theme-switcher" id="themeSwitcher" title="切换主题">
        <i class="fas fa-moon"></i>
    </div>

    <main class="main-content">
        <div class="container">
            <div class="friends-header">
                <h1><i class="fas fa-link" style="color: var(--primary);"></i> 友情链接</h1>
                <p>志同道合的朋友们，排名不分先后</p>
            </div>

            <!-- 友链网格 -->
            <div class="friends-grid" id="friendsGrid">
                <!-- JS动态生成 -->
            </div>

            <!-- 申请互换 -->
            <div class="exchange-section">
                <h2 class="exchange-title">
                    <i class="fas fa-handshake"></i> 申请互链
                </h2>
                <div class="exchange-content">
                    <h3>请提供以下信息：</h3>
                    <div class="code-block">
网站名称：你的网站名
网站链接：https://example.com
头像链接：https://example.com/avatar.png
网站描述：一句话介绍你的网站</div>
                    
                    <h3>本站信息：</h3>
                    <div class="code-block">
网站名称：熵
网站链接：https://nektropy.github.io
头像链接：https://nektropy.github.io/head.png
网站描述：世界本就浑浊，罪与爱同歌
记得发邮件提醒哦</div>
                    
                    <a href="mailto:psz0410@163.com?subject=友链申请" class="add-friend-btn">
                        <i class="fas fa-envelope"></i> 发送申请邮件
                    </a>
                </div>
            </div>

            <footer class="footer">
                <div class="footer-text">
                    <p>© 2026 熵 · 保持好奇心，探索未知</p>
                    <p style="margin-top: 8px; font-size: 0.85rem; opacity: 0.8;">
                        <a href="index.html" style="color: var(--primary);">返回主页</a>
                    </p>
                </div>
                <div class="icp-container">
                    <a class="icp-link" href="https://icp.gov.moe/?keyword=20266006" target="_blank">萌ICP备20266006号</a>
                </div>
            </footer>
        </div>
    </main>

    <script src="config.js"></script>
    <script>
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            initSidebar();
            initTheme();
            renderFriends();
            initAnimations();
        });
        
        // 侧边栏控制
        function initSidebar() {
            const isMobile = window.innerWidth <= 1024;
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebarToggle');
            
            if (!isMobile && sidebar && sidebarToggle) {
                sidebarToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    sidebar.classList.toggle('collapsed');
                    const isCollapsed = sidebar.classList.contains('collapsed');
                    localStorage.setItem('sidebarCollapsed', isCollapsed);
                    sidebarToggle.title = isCollapsed ? '展开菜单' : '收起菜单';
                });
                
                if (localStorage.getItem('sidebarCollapsed') === 'true') {
                    sidebar.classList.add('collapsed');
                    sidebarToggle.title = '展开菜单';
                }
            } else {
                // 移动端汉堡菜单
                const menuToggle = document.getElementById('menuToggle');
                const menuDropdown = document.getElementById('menuDropdown');
                
                if (menuToggle) {
                    menuToggle.addEventListener('click', function(e) {
                        e.stopPropagation();
                        this.classList.toggle('active');
                        menuDropdown.classList.toggle('active');
                    });
                    
                    document.addEventListener('click', function(e) {
                        if (!menuToggle.contains(e.target) && !menuDropdown.contains(e.target)) {
                            menuToggle.classList.remove('active');
                            menuDropdown.classList.remove('active');
                        }
                    });
                }
            }
        }
        
        // 主题切换
        function initTheme() {
            const switcher = document.getElementById('themeSwitcher');
            if (!switcher) return;
            
            switcher.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                const isDark = document.body.classList.contains('dark-mode');
                this.querySelector('i').className = isDark ? 'fas fa-sun' : 'fas fa-moon';
                localStorage.setItem('darkMode', isDark);
            });
            
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                switcher.querySelector('i').className = 'fas fa-sun';
            }
        }
        
        // 渲染友链
        function renderFriends() {
            const grid = document.getElementById('friendsGrid');
            if (!grid || typeof friendsConfig === 'undefined') {
                grid.innerHTML = '<p style="text-align:center;color:rgba(255,255,255,0.6);">暂无友链数据</p>';
                return;
            }
            
            grid.innerHTML = friendsConfig.map((f, i) => `
                <a href="${f.url}" class="friend-card" target="_blank" style="animation-delay: ${i * 0.1}s">
                    <div class="friend-avatar">
                        <img src="${f.avatar}" alt="${f.name}" onerror="this.src='head.png'">
                    </div>
                    <h3 class="friend-name">${f.name}</h3>
                    <p class="friend-desc">${f.desc}</p>
                </a>
            `).join('');
        }
        
        // 入场动画
        function initAnimations() {
            const cards = document.querySelectorAll('.friend-card, .exchange-section');
            cards.forEach((card, i) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = '';
                }, 100 + i * 100);
            });
        }
    </script>
</body>
</html>